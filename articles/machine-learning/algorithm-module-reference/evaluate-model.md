---
title: 评估模型：模块参考
titleSuffix: Azure Machine Learning
description: 了解如何使用 Azure 机器学习中的“评估模型”模块来度量已训练模型的准确度。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 04/24/2020
ms.openlocfilehash: f69a3f61c288b320399d1b3abfc632c93261c540
ms.sourcegitcommit: 999ccaf74347605e32505cbcfd6121163560a4ae
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/08/2020
ms.locfileid: "82983357"
---
# <a name="evaluate-model-module"></a>“评估模型”模块

本文介绍 Azure 机器学习设计器（预览版）中的一个模块。

使用此模块可以度量已训练模型的准确度。 提供包含通过模型生成的评分的数据集后，“评估模型”模块将计算一组符合行业标准的评估指标。 
  
 “评估模型”返回的指标取决于评估的模型类型：   
  
-   **分类模型**    
-   **回归模型**  
-   **聚类分析模型**  


> [!TIP]
> 如果你不熟悉模型评估[，则建议使用 EdX 中的](https://blogs.technet.microsoft.com/machinelearning/2015/09/08/new-edx-course-data-science-machine-learning-essentials/)Stephen Elston 的视频系列。 


## <a name="how-to-use-evaluate-model"></a>如何使用评估模型
1. 将评分[模型](./score-model.md)的**评分数据集**输出或将数据的结果数据集输出连接[到](./assign-data-to-clusters.md)"**评估模型**" 的左侧输入端口。 
  > [!NOTE] 
  > 如果使用 "选择数据集中的列" 之类的模块来选择部分输入数据集，请确保实际标签列（在定型中使用）、"评分概率" 列和 "评分标签" 列以计算指标（如 AUC）、二元分类/异常检测的准确性。
  > 存在实际标签列 "评分标签" 列，用于计算多类分类/回归指标。
  > "赋值" 列，列 "DistancesToClusterCenter no"。X ' （X 是质心索引，范围为0，...，质心-1）的值，用于计算分类的度量值。

2. 可有可无将第二个模型的评分[模型](./score-model.md)或结果数据集输出的**评分数据集**输出连接到**评估模型**的**右**输入端口。 您可以轻松地将两个不同模型的结果与相同数据进行比较。 两个输入算法应为同一算法类型。 或者，可以比较两个不同运行使用不同参数针对相同数据提供的评分。

    > [!NOTE]
    > 算法类型是指 "机器学习算法" 下的 "双类分类"、"多类分类"、"回归"、"聚类分析"。 

3. 提交管道以生成评估分数。

## <a name="results"></a>结果

运行 "**评估模型**" 后，右键单击模块并选择 "**可视化计算结果**" 以查看结果。

如果将数据集连接到“评估模型”的两个输入，结果将包含两个数据集或两个模型的指标。****
附加到左侧端口的模型或数据先显示在报告中，其后是附加到右侧端口的数据集或模型的指标。  

例如，下图显示了基于相同数据但不同参数生成的两个聚类模型的结果比较。  

![Comparing2Models](media/module/evaluate-2-models.png)  

由于这是一个聚类模型，因此评估结果与比较两个回归模型的评分或比较两个分类模型时出现的结果不同。 不过，提供的结果在总体上是相同的。 

## <a name="metrics"></a>指标

本部分介绍针对支持与“评估模型”配合使用的特定模型类型返回的指标：****

+ [分类模型](#metrics-for-classification-models)
+ [回归模型](#metrics-for-regression-models)
+ [聚类分析模型](#metrics-for-clustering-models)

### <a name="metrics-for-classification-models"></a> 分类模型的指标

评估分类模型时，将报告以下指标。
  
-   “准确度”以真实结果数与案例总数之比的形式度量分类模型的好坏。****  
  
-   “精准率”是真实结果与所有正面结果之比。****  
  
-   “召回率”是模型返回的所有正确结果的小数。****  
  
-   “F 评分”计算为精准率与召回率的加权平均值，介于 0 和 1 之间，理想的 F 评分值为 1。****  
  
-   “AUC”度量绘制的曲线下面的面积（在 y 轴上绘制真报率，在 x 轴上绘制误报率）。**** 此指标非常有用，因为它提供单个数字让你比较不同类型的模型。  
  
- “平均对数损失”是用于表示错误结果的惩罚的单个评分。**** 它计算为以下两个概率分布之差 – 真实分布，以及模型中的分布。  
  
- “训练对数损失”是表示分类器相比随机预测的优势的单个评分。**** 对数损失通过将模型输出的概率与标签中的已知值（真实值）进行比较，来度量模型的不确定性。 我们希望最大程度地减小整个模型的对数损失。

### <a name="metrics-for-regression-models"></a> 回归模型的指标
 
针对回归模型返回的指标旨在估计误差量。  如果观测值与预测值之间的差很小，则认为模型能够很好地拟合数据。 不过，查看残差模式（任何一个预测点与其对应实际值之间的差）可以很好地判断模型中的潜在偏差。  
  
 将报告以下指标来评估回归模型。
  
- “平均绝对误差 (MAE)”度量预测结果与实际结果的接近程度；因此，评分越低越好。****  
  
- “均方根误差 (RMSE)”创建单个值用于汇总模型中的误差。**** 求差的平方时，指标将忽略过预测与欠预测之差。  
  
- “相对绝对误差 (RAE)”是预期值与实际值之间的相对绝对差；之所以是相对的，是因为平均差将除以算术平均值。****  
  
- 类似地，“相对平方误差 (RSE)”除以实际值的总平方误差，以此规范化预测值的总平方误差。****  
  

  
- “决定系数”（通常称为 R<sup>2</sup>）表示模型的预测能力，值为 0 到 1。**** 如果为 0，则模型是随机的（不解释任何信息）；1 表示完美拟合。 不过，在解释 R<sup>2</sup> 值时请小心，因为低值可能完全正常，而高值可能是可疑的。

###  <a name="metrics-for-clustering-models"></a>聚类分析模型的度量值

由于聚类分析模型的不同之处在于分类和回归模型，因此，"[评估模型](evaluate-model.md)" 还会返回一组不同的聚类分析模型。  
  
 为聚类分析模型返回的统计信息描述分配给每个分类的数据点的数量、群集之间的隔离量以及每个分类中数据点的 bunched 程度。  
  
 对整个数据集进行聚类分析模型的统计信息，其中包含每个分类的统计信息的附加行。  
  
报告了以下用于评估聚类分析模型的指标。
    
-   列中的分数与**其他中心的平均距离**，表示每个分类中的每个点平均接近于所有其他分类的质心。   

-   列中的分数与**群集中心的平均距离**，表示群集中所有点到该分类的质心的靠近程度。  
  
-   "**点数**" 列显示分配给每个分类的数据点的数量，以及任何群集中数据点的总数目。  
  
     如果分配给分类的数据点的数目小于可用的数据点数总数，则意味着无法将数据点分配给群集。  
  
-   列中的分数（**与群集中心**的最大距离）表示每个点与该点的分类的质心之间的距离之和。  
  
     如果此数字较高，则可能表示群集分布广泛。 应查看此统计信息，以及与**群集中心之间的平均距离**，以确定群集的传播。   

-   结果的每个部分底部的**组合计算**分数列出了在该特定模型中创建的群集的平均分数。  
  

## <a name="next-steps"></a>后续步骤

参阅 Azure 机器学习[可用的模块集](module-reference.md)。 
